import streamlit as st

# ë ˆì‹œí”¼ ë°ì´í„° (ì¡°ë¦¬ë²• ë‹¨ê³„ë³„ ë””í…Œì¼)
recipes = [
    {"name": "ê¹€ì¹˜ë³¶ìŒë°¥", 
     "ingredients": ["ê¹€ì¹˜", "ë°¥", "ì–‘íŒŒ", "ê°„ì¥", "ê³„ë€"], 
     "main": ["ê¹€ì¹˜"], 
     "time": 15, 
     "difficulty": "ì‰¬ì›€", 
     "method": "1. íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ë‹¤ì§„ ì–‘íŒŒì™€ ê¹€ì¹˜ë¥¼ ë³¶ëŠ”ë‹¤.\n2. ë°¥ì„ ë„£ê³  í•¨ê»˜ ë³¶ëŠ”ë‹¤.\n3. ê°„ì¥ê³¼ ì†Œê¸ˆìœ¼ë¡œ ê°„ì„ ë§ì¶˜ í›„, ê³„ë€ í”„ë¼ì´ë¥¼ ì˜¬ë ¤ ì™„ì„±í•œë‹¤."},

    {"name": "ëœì¥ì°Œê°œ", 
     "ingredients": ["ëœì¥", "ë‘ë¶€", "ì• í˜¸ë°•", "ì–‘íŒŒ", "ë²„ì„¯"], 
     "main": ["ëœì¥"], 
     "time": 25, 
     "difficulty": "ë³´í†µ", 
     "method": "1. ëƒ„ë¹„ì— ë¬¼ì„ ë“ì¸ë‹¤.\n2. ëœì¥ì„ í’€ê³ , ì†ì§ˆí•œ ì•¼ì±„ì™€ ë‘ë¶€ë¥¼ ë„£ëŠ”ë‹¤.\n3. ì¤‘ë¶ˆì—ì„œ 10~15ë¶„ ì •ë„ ë“ì¸ í›„, ë§ˆì§€ë§‰ì— íŒŒë¥¼ ë„£ì–´ ì™„ì„±í•œë‹¤."},

    {"name": "ì¹´ë ˆë¼ì´ìŠ¤", 
     "ingredients": ["ë°¥", "ì¹´ë ˆê°€ë£¨", "ê°ì", "ë‹¹ê·¼", "ì–‘íŒŒ"], 
     "main": ["ì¹´ë ˆê°€ë£¨", "ë°¥"], 
     "time": 30, 
     "difficulty": "ë³´í†µ", 
     "method": "1. ê°ì, ë‹¹ê·¼, ì–‘íŒŒë¥¼ ê¹ë‘‘ì°ê¸° í•œë‹¤.\n2. íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ì•¼ì±„ë¥¼ ë³¶ëŠ”ë‹¤.\n3. ì¹´ë ˆê°€ë£¨ì™€ ë¬¼ì„ ë„£ê³  ë“ì¸ë‹¤.\n4. ë°¥ ìœ„ì— ì¹´ë ˆë¥¼ ë¶€ì–´ ì™„ì„±í•œë‹¤."},

    {"name": "ë¶ˆê³ ê¸°", 
     "ingredients": ["ì†Œê³ ê¸°", "ê°„ì¥", "ì„¤íƒ•", "ì–‘íŒŒ", "íŒŒ"], 
     "main": ["ì†Œê³ ê¸°"], 
     "time": 35, 
     "difficulty": "ë³´í†µ", 
     "method": "1. ì†Œê³ ê¸°ë¥¼ ì–‡ê²Œ ì°ì–´ ê°„ì¥, ì„¤íƒ•, ë‹¤ì§„ ë§ˆëŠ˜, íŒŒì™€ í•¨ê»˜ ì¬ìš´ë‹¤.\n2. íŒ¬ì— ë³¶ì•„ ìµíŒ í›„ ì ‘ì‹œì— ë‹´ì•„ ì™„ì„±í•œë‹¤."},

    {"name": "ê¹€ë°¥", 
     "ingredients": ["ë°¥", "ê¹€", "ê³„ë€", "ì‹œê¸ˆì¹˜", "ë‹¨ë¬´ì§€"], 
     "main": ["ë°¥", "ê¹€"], 
     "time": 40, 
     "difficulty": "ì–´ë ¤ì›€", 
     "method": "1. ì¬ë£Œë¥¼ ì¤€ë¹„í•˜ê³ , ê³„ë€ì€ ì§€ë‹¨ìœ¼ë¡œ ë¶€ì¹œë‹¤.\n2. ê¹€ ìœ„ì— ë°¥ì„ í¼ì¹˜ê³  ì¬ë£Œë¥¼ ì˜¬ë¦°ë‹¤.\n3. ê¹€ë°¥ì„ ë‹¨ë‹¨íˆ ë§ì•„ ë¨¹ê¸° ì¢‹ê²Œ ì¬ë‹¤."},

    {"name": "í† ë§ˆí†  íŒŒìŠ¤íƒ€", 
     "ingredients": ["íŒŒìŠ¤íƒ€", "í† ë§ˆí† ", "ì–‘íŒŒ", "ë§ˆëŠ˜"], 
     "main": ["íŒŒìŠ¤íƒ€", "í† ë§ˆí† "], 
     "time": 30, 
     "difficulty": "ë³´í†µ", 
     "method": "1. íŒŒìŠ¤íƒ€ë¥¼ ì‚¶ëŠ”ë‹¤.\n2. íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ë‹¤ì§„ ë§ˆëŠ˜ê³¼ ì–‘íŒŒë¥¼ ë³¶ëŠ”ë‹¤.\n3. í† ë§ˆí† ë¥¼ ë„£ê³  ì†ŒìŠ¤ë¥¼ ë§Œë“¤ê³ , íŒŒìŠ¤íƒ€ì™€ ì„ì–´ ì™„ì„±í•œë‹¤."},

    {"name": "ì°¸ì¹˜ë§ˆìš”ë®ë°¥", 
     "ingredients": ["ì°¸ì¹˜ìº”", "ë§ˆìš”ë„¤ì¦ˆ", "ë°¥", "ê°„ì¥"], 
     "main": ["ì°¸ì¹˜ìº”", "ë°¥"], 
     "time": 10, 
     "difficulty": "ì‰¬ì›€", 
     "method": "1. ì°¸ì¹˜ìº”ì˜ ë¬¼ê¸°ë¥¼ ì œê±°í•œë‹¤.\n2. ë§ˆìš”ë„¤ì¦ˆì™€ ê°„ì¥ 1ì‘ì€ìˆ ì„ ë„£ê³  ì„ëŠ”ë‹¤.\n3. ë°¥ ìœ„ì— ì˜¬ë¦¬ê³  ì˜ ì„ì–´ì„œ ë¨¹ëŠ”ë‹¤."},

    {"name": "ë–¡ë³¶ì´", 
     "ingredients": ["ë–¡", "ê³ ì¶”ì¥", "ì–´ë¬µ", "íŒŒ"], 
     "main": ["ë–¡", "ê³ ì¶”ì¥"], 
     "time": 20, 
     "difficulty": "ë³´í†µ", 
     "method": "1. ë–¡ê³¼ ì–´ë¬µì„ ì¤€ë¹„í•œë‹¤.\n2. ê³ ì¶”ì¥, ë¬¼, ì„¤íƒ•ì„ ì„ì–´ ì†ŒìŠ¤ë¥¼ ë§Œë“ ë‹¤.\n3. ë–¡ê³¼ ì–´ë¬µì„ ë„£ê³  ì¡¸ì´ë“¯ ë³¶ì•„ ì™„ì„±í•œë‹¤."},

    {"name": "ê°ìë³¶ìŒ", 
     "ingredients": ["ê°ì", "ê°„ì¥", "ê¸°ë¦„", "ì†Œê¸ˆ"], 
     "main": ["ê°ì"], 
     "time": 15, 
     "difficulty": "ì‰¬ì›€", 
     "method": "1. ê°ìë¥¼ ì–‡ê²Œ ì±„ì¬ë‹¤.\n2. íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ê°ìë¥¼ ë³¶ëŠ”ë‹¤.\n3. ì†Œê¸ˆê³¼ ê°„ì¥ìœ¼ë¡œ ê°„ì„ ë§ì¶˜ í›„ ì™„ì„±í•œë‹¤."},

    {"name": "ìŠ¤íŒ¸êµ¬ì´", 
     "ingredients": ["ìŠ¤íŒ¸", "ê°„ì¥", "ë§ˆëŠ˜"], 
     "main": ["ìŠ¤íŒ¸"], 
     "time": 10, 
     "difficulty": "ì‰¬ì›€", 
     "method": "1. ìŠ¤íŒ¸ì„ ë¨¹ê¸° ì¢‹ê²Œ ì¬ë‹¤.\n2. íŒ¬ì— êµ¬ì›Œ ê°„ì¥ê³¼ ë‹¤ì§„ ë§ˆëŠ˜ì„ ë°œë¼ê°€ë©° ìµíŒë‹¤."},

    {"name": "í† ìŠ¤íŠ¸", 
     "ingredients": ["ì‹ë¹µ", "ê³„ë€", "ë²„í„°", "ì¹˜ì¦ˆ"], 
     "main": ["ì‹ë¹µ", "ê³„ë€"], 
     "time": 10, 
     "difficulty": "ì‰¬ì›€", 
     "method": "1. ì‹ë¹µ ìœ„ì— ê³„ë€ì„ ì˜¬ë¦¬ê³  íŒ¬ì— êµ½ëŠ”ë‹¤.\n2. ì¹˜ì¦ˆë¥¼ ì˜¬ë ¤ ë…¹ì´ë©´ ì™„ì„±í•œë‹¤."}
]

# ì œëª©
st.title("ğŸ³ ìì·¨ìƒ ë§ì¶¤ ë ˆì‹œí”¼ ì¶”ì²œê¸° (ë‹¨ê³„ë³„ ì¡°ë¦¬ë²•)")

# ì‚¬ìš©ì ì…ë ¥
user_input = st.text_input("ëƒ‰ì¥ê³ ì— ìˆëŠ” ì¬ë£Œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œë¡œ êµ¬ë¶„):", "")
user_ingredients = [i.strip() for i in user_input.split(",") if i.strip()]

# ì¶”ì²œ ë¡œì§
if user_ingredients:
    results = []
    for recipe in recipes:
        score = 0
        matched_main = [m for m in recipe["main"] if m in user_ingredients]
        matched_ingredients = [i for i in recipe["ingredients"] if i in user_ingredients]

        if matched_main:
            score += 2 * len(matched_main)
        score += len(matched_ingredients)

        if score > 0 and matched_main:  # ë©”ì¸ ì¬ë£Œ ë°˜ë“œì‹œ í¬í•¨
            results.append((recipe, score))

    results.sort(key=lambda x: x[1], reverse=True)

    if results:
        st.subheader("âœ¨ ì¶”ì²œ ë ˆì‹œí”¼ âœ¨")
        for recipe, score in results:
            st.markdown(f"### ğŸ½ {recipe['name']}")
            st.write(f"â± ì†Œìš” ì‹œê°„: **{recipe['time']}ë¶„**")
            st.write(f"ğŸ“Œ ë‚œì´ë„: **{recipe['difficulty']}**")
            st.write(f"ğŸ¥• í•„ìš” ì¬ë£Œ: {', '.join(recipe['ingredients'])}")
            st.write(f"ğŸ‘¨â€ğŸ³ ì¡°ë¦¬ë²•:\n{recipe['method']}")
            st.write("---")
    else:
        st.error("ì¡°ê±´ì— ë§ëŠ” ë ˆì‹œí”¼ê°€ ì—†ìŠµë‹ˆë‹¤.")
